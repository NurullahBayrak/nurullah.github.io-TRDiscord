<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>TRDiscord</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Auth Section -->
  <div id="authSection">
    <h2>Giriş / Kayıt</h2>
    <input id="username" placeholder="Kullanıcı adı">
    <input id="password" type="password" placeholder="Şifre">
    <button onclick="register()">Kayıt Ol</button>
    <button onclick="login()">Giriş Yap</button>
    <p id="authResult"></p>
  </div>

  <!-- App Section -->
  <div id="app" class="hidden">
    <!-- Header -->
    <header>
      <h1>TRDiscord</h1>
      <button onclick="openSettings()">⚙️ Ayarlar</button>
    </header>

    <h2>Hoş geldin <span id="profileNick"></span></h2>
    <p>Durum: <span id="profileStatus"></span></p>
    <button onclick="logout()">Çıkış Yap</button>

    <!-- Arkadaşlar -->
    <div id="friendsSection">
      <h2>Arkadaşlar</h2>
      <ul id="friendsList"></ul>
    </div>

    <!-- Sunucular -->
    <div id="serversSection">
      <h2>Sunucular</h2>
      <ul id="serversList"></ul>

      <!-- Sunucu oluşturma -->
      <input id="newServer" placeholder="Sunucu adı">
      <button onclick="createServer()">Sunucu Oluştur</button>
    </div>

    <!-- Kanallar -->
    <div id="channelsSection">
      <h2>Kanallar</h2>
      <ul id="channelsList"></ul>

      <!-- Kanal oluşturma -->
      <input id="newChannel" placeholder="Kanal adı">
      <button onclick="createChannel()">Kanal Oluştur</button>
    </div>

    <!-- Sohbet Alanı -->
    <div id="chatSection">
      <h2>Sohbet</h2>
      <div id="messages"></div>
      <input id="messageInput" placeholder="Mesaj yaz...">
      <button onclick="sendMessage()">Gönder</button>
    </div>

    <!-- Ayarlar Menüsü -->
    <div id="settingsSection" class="hidden">
      <h2>Ayarlar</h2>
      <label>Durum: 
        <select id="statusSelect" onchange="changeStatus()">
          <option value="Çevrimiçi">Çevrimiçi</option>
          <option value="Rahatsız Etmeyin">Rahatsız Etmeyin</option>
          <option value="Görünmez">Görünmez</option>
        </select>
      </label>
      <button onclick="closeSettings()">Kapat</button>
    </div>
  </div>

  <!-- Socket.io client backend’den otomatik gelir -->
  <script src="/socket.io/socket.io.js"></script>
  <!-- Senin script.js dosyan -->
  <script src="script.js"></script>
</body>
</html>
